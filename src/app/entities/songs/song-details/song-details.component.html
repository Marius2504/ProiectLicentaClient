<body>
    <div class="wrapper">
        <div class="form-wrapper sign-in">
            <form action="">
                <h1>{{currentSong.name}} 
                    <i *ngIf="like" #like (click)="addLike()" class="bi bi-heart-fill"></i>
                    <i *ngIf="!like" #like (click)="addLike()" class="bi bi-heart"></i>
                </h1>
                <div class="input-group">
                    <label>Duration: {{currentSong.duration}}</label>
                </div>
            </form>
        </div>

        <div class="form-wrapper sign-in">
            <form action="">
                <h1>Album</h1>
                <div class="input-group">
                    <label> Name: <a routerLink="../../album/{{album.id}}" >{{album.name}}</a></label>
                </div>
            </form>
        </div>

        <div class="form-wrapper sign-in">
            <form action="">
                <h1>Artist</h1>
                
                <img *ngIf="artist.imagePath;else other_content" src="{{artist.imagePath}}" alt="" width="50px" height="50px">
                <ng-template #other_content>
                    <img src="../../../../assets/user.png" alt="aa" width="50px" height="50px">
                </ng-template>

                <div class="input-group">
                    <label>Artist: <a routerLink="../../artist/{{artist.id}}" >{{artist.name}}</a></label>
                </div>
            </form>
        </div>

        <div class="form-wrapper sign-in">
            <form action="">
                <h1>Genre</h1>
                <div class="input-group">
                    <label> Genre: {{genre.name}}</label>
                </div>
            </form>
        </div>

        <div class="form-wrapper sign-in">
            <form action="">
                <h1>Comments</h1>
                <div class="addComment">
                    <form>
                        <div class="message">
                            <img *ngIf="user.imagePath;else other_content" src="{{user.imagePath}}" alt="" width="50px" height="50px">
                            <ng-template #other_content>
                                <img src="../../../../assets/user.png" alt="aa" width="50px" height="50px">
                            </ng-template>   
                            <textarea class="form-control" id="textarea" placeholder="Enter your comment..." rows="3" [(ngModel)]="messageSend.text" 
                            name="textarea"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary" (click)="sendMessage()" >Post </button>
                      </form>
                </div>
            </form>
        </div>
        <div class="form-wrapper sign-in">
            <form action="">
                <div class="input-group" *ngFor="let message of messages;index as i">
                    <img *ngIf="messageUsers[i]!=undefined;else other_content" src="{{messageUsers[i].imagePath}}" alt="" width="50px" height="50px" class="imgProfile">
                        <ng-template #other_content>
                            <img src="../../../../assets/user.png" alt="aa" width="50px" height="50px">
                    </ng-template> 
                    <div class="info" *ngIf="messageUsers[i]!=undefined">
                        <p>{{messageUsers[i].name}}</p>
                        <label for="text">
                            {{message?.text}}
                            <i *ngIf="verify(message);else nolike" (click)="removeLikeToMessage($event,message)" class="bi bi-heart-fill"></i>
                            <ng-template #nolike>
                                <i (click)="addLikeToMessage($event,message)" class="bi bi-heart"></i>
                            </ng-template>
                            <i *ngIf="message.whoSentId == user.id" click-stop-propagation (click)="deleteItem(message.id)" class="bi bi-trash3-fill trash" ></i>
                        </label>
                    </div>
                </div>
            </form>
        </div>

        

    </div>
</body>
